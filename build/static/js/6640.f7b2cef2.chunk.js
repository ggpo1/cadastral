"use strict";(self.webpackChunkcadastral=self.webpackChunkcadastral||[]).push([[6640],{46640:function(e,t,r){r.d(t,{mR:function(){return z},C$:function(){return F},e2:function(){return k},Jq:function(){return le},wO:function(){return B},Mk:function(){return V},cM:function(){return j},Z_:function(){return Q},ws:function(){return G},xV:function(){return X},Ub:function(){return ce},UK:function(){return K},Yw:function(){return Y},$_:function(){return N},Gr:function(){return re},nU:function(){return H},Ll:function(){return ae},$K:function(){return W},DQ:function(){return ne},HX:function(){return te},hj:function(){return Z},iw:function(){return ie},TB:function(){return ue},sG:function(){return ee},Gg:function(){return oe},js:function(){return se},Y8:function(){return b}});var n=r(1413),i=r(4942),a=r(37762),o=r(10064),u=r(32718),s=(r(16889),r(65800),r(80613)),c=r(15671),l=r(43144),h=r(13005),f=function(){function e(){(0,c.Z)(this,e),this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}return(0,l.Z)(e,[{key:"acquire",value:function(e,t,r,n,i,a,o,u,s){this.color=e,this.haloColor=t,this.haloSize=r,this.size=n,this.angle=i,this.offsetX=a,this.offsetY=o,this.hAnchor=u,this.vAnchor=s}},{key:"release",value:function(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}}]),e}();f.pool=new h.Z(f);r(51378);var d=u.Z.getLogger("esri.views.2d.engine.webgl.Utils"),p="geometry",_=[{name:p,strideInBytes:32,divisor:0}],m=[{name:p,strideInBytes:20,divisor:0}],T=[{name:p,strideInBytes:12,divisor:0}],g=[{name:p,strideInBytes:40,divisor:0}],E=[{name:p,strideInBytes:36,divisor:0}],v=[{name:p,strideInBytes:36,divisor:0}];function L(e){var t,r={},n=(0,a.Z)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;r[i.name]=i.strideInBytes}}catch(o){n.e(o)}finally{n.f()}return r}var M=L([{name:p,strideInBytes:36,divisor:0}]),A=L(_),I=L(m),y=L(T),w=L(g),S=L(E),x=L(v);function N(e,t){var r=t.fill;switch(e){case s.LW.MARKER:return M;case s.LW.FILL:return"dot-density"===r?y:"simple"===r?I:A;case s.LW.LINE:return w;case s.LW.TEXT:return S;case s.LW.LABEL:return x}}var U=[p],O=[p],R=[p],D=[p],C=[p];function P(e){switch(e){case s.LW.MARKER:return U;case s.LW.FILL:return O;case s.LW.LINE:return R;case s.LW.TEXT:return D;case s.LW.LABEL:return C}}function b(e){switch(e%4){case 0:case 2:return 4;case 1:case 3:return 1}}function F(e,t){switch(t%4){case 0:case 2:return new Uint32Array(Math.floor(e*t/4));case 1:case 3:return new Uint8Array(e*t)}}function k(e,t){switch(t%4){case 0:case 2:return new Uint32Array(e);case 1:case 3:return new Uint8Array(e)}}function W(e){return null!=e}function Z(e){return"number"==typeof e}function G(e){switch(e){case"butt":return 0;case"round":return 1;case"square":return 2;default:return d.error(new o.Z("mapview-invalid-type","Cap type ".concat(e," is not a valid option. Defaulting to round"))),1}}function X(e){switch(e){case"miter":return 2;case"bevel":return 0;case"round":return 1;default:return d.error(new o.Z("mapview-invalid-type","Join type ".concat(e," is not a valid option. Defaulting to round"))),1}}function H(e){switch(e){case"opacity":return s.pc.OPACITY;case"color":return s.pc.COLOR;case"rotation":return s.pc.ROTATION;case"size":return s.pc.SIZE;default:return d.error("Cannot interpret unknown vv: ".concat(e)),null}}function B(e,t,r,n,i,a,o){for(var u in a)for(var s=a[u].stride,c=b(s),l=a[u].data,h=r[u].data,f=s*i.vertexCount/c,d=s*e/c,p=s*i.vertexFrom/c,_=0;_<f;++_)h[_+d]=l[_+p];for(var m=i.indexCount,T=0;T<m;++T)n[T+t]=o[T+i.indexFrom]-i.vertexFrom+e}var z=(0,i.Z)({},p,35044);function V(e,t){for(var r=[],n=0;n<5;++n){var i,o=P(n),u={},s=(0,a.Z)(o);try{for(s.s();!(i=s.n()).done;){var c=i.value;u[c]={data:t(n,c)}}}catch(l){s.e(l)}finally{s.f()}r.push({data:e(n),buffers:u})}return r}function Y(e){switch(e){case 5121:return 1;case 32819:return 2;case 5126:return 4;default:return void d.error(new o.Z("webgl-utils","Unable to handle type ".concat(e)))}}function K(e){switch(e){case 5121:return Uint8Array;case 32819:return Uint16Array;case 5126:return Float32Array;default:return void d.error(new o.Z("webgl-utils","Unable to handle type ".concat(e)))}}var q=function(e){var t=new Map;for(var r in e){var n,i=(0,a.Z)(e[r]);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.set(o.name,o.location)}}catch(u){i.e(u)}finally{i.f()}}return t},J=function(e){var t={};for(var r in e){var n=e[r];t[r]=n.length?n[0].stride:0}return t},$=new Map,j=function(e,t){if(!$.has(e)){var r=function(e){var t={},r=function(r){var i=e[r],a=0;t[r]=i.map((function(e){var t=(0,n.Z)((0,n.Z)({},e),{},{normalized:e.normalized||!1,divisor:e.divisor||0,offset:a,stride:0});return a+=e.count*function(e){switch(e){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5126:case 5124:case 5125:return 4}}(e.type),t})),t[r].forEach((function(e){return e.stride=a}))};for(var i in e)r(i);return t}(t),i={strides:J(r),bufferLayouts:r,attributes:q(t)};$.set(e,i)}return $.get(e)};function Q(e){e(s.LW.FILL),e(s.LW.LINE),e(s.LW.MARKER),e(s.LW.TEXT),e(s.LW.LABEL)}var ee=function(e){return"path"in e&&he(e.path)},te=function(e){return"url"in e&&e.url||"imageData"in e&&e.imageData},re=function(e){return"imageData"in e&&e.imageData&&"contentType"in e&&e.contentType?"data:".concat(e.contentType,";base64,").concat(e.imageData):"url"in e?e.url:null},ne=function(e){return"url"in e&&e.url&&e.url.includes(".gif")||"contentType"in e&&"image/gif"===e.contentType||"imageData"in e&&e.imageData.includes("data:image/gif")},ie=function(e){return"url"in e&&e.url&&e.url.includes(".png")||"contentType"in e&&"image/png"===e.contentType||"imageData"in e&&e.imageData.includes("data:image/png")},ae=function(e){return e.type&&-1!==e.type.toLowerCase().indexOf("3d")};function oe(e){switch(e.type){case"line":var t=e;return"CIMSolidStroke"===t.cim.type&&!t.dashTemplate;case"fill":return"CIMSolidFill"===e.cim.type;case"esriSFS":return"esriSFSSolid"===e.style||"esriSFSNull"===e.style;case"esriSLS":return"esriSLSSolid"===e.style||"esriSLSNull"===e.style;default:return!1}}var ue=function(e){return e.includes("data:image/svg+xml")};function se(e){switch("cim"in e?e.cim.type:e.type){case"esriSMS":case"esriPMS":case"CIMPointSymbol":case"CIMVectorMarker":case"CIMPictureMarker":case"CIMCharacterMarker":return!1;default:return!0}}function ce(e){var t="maxVVSize"in e&&e.maxVVSize,r="width"in e&&e.width||"size"in e&&e.size||0;return t||r}function le(e){for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r));return t}var he=function(e){return!!e&&(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},65800:function(e,t,r){r.d(t,{pr:function(){return a},t2:function(){return o},aH:function(){return u}});var n=r(29439),i=r(73271);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e[t+3];return e[t+0]*=n,e[t+1]*=n,e[t+2]*=n,r||(e[t+3]*=255),e}function o(e){if(!e)return 0;var t=e.r,r=e.g,n=e.b,a=e.a;return(0,i.Jz)(t*a,r*a,n*a,255*a)}function u(e){if(!e)return 0;var t=(0,n.Z)(e,4),r=t[0],a=t[1],o=t[2],u=t[3];return(0,i.Jz)(r*(u/255),a*(u/255),o*(u/255),u)}},80613:function(e,t,r){var n,i,a,o,u,s,c;r.d(t,{Un:function(){return c},pc:function(){return o},jx:function(){return a},LW:function(){return n},X:function(){return u},mf:function(){return s}}),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"}(n||(n={})),function(e){e[e.SUCCEEDED=0]="SUCCEEDED",e[e.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(i||(i={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(a||(a={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(o||(o={})),function(e){e[e.NONE=0]="NONE",e[e.OPACITY=1]="OPACITY",e[e.COLOR=2]="COLOR",e[e.ROTATION=4]="ROTATION",e[e.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",e[e.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",e[e.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",e[e.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(u||(u={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(s||(s={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(c||(c={}))},73271:function(e,t,r){r.d(t,{UJ:function(){return a},Jz:function(){return o},Au:function(){return i}});var n=new Float32Array(1);new Uint32Array(n.buffer);function i(e){return[255&e,(65280&e)>>>8,(16711680&e)>>>16,(4278190080&e)>>>24]}function a(e,t){return 65535&e|t<<16}function o(e,t,r,n){return 255&e|(255&t)<<8|(255&r)<<16|n<<24}},51378:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(1413),i=r(15671),a=r(43144),o=r(16889),u=r(92026),s=r(37825),c=r(8548),l=r(30308),h=function(){function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,i.Z)(this,e),this._context=t,this.type="texture",this._glName=null,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,t.instanceCounter.increment(c._g.Texture,this),this._descriptor=(0,n.Z)({target:3553,samplingMode:9729,wrapMode:10497,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1},r),34067===this._descriptor.target?this.setDataCubeMap(a):this.setData(a)}return(0,a.Z)(e,[{key:"glName",get:function(){return this._glName}},{key:"descriptor",get:function(){return this._descriptor}},{key:"isDirty",get:function(){return this._samplingModeDirty||this._wrapModeDirty}},{key:"dispose",value:function(){this._context.gl&&this._glName&&(this._context.unbindTextureAllUnits(this),this._context.gl.deleteTexture(this._glName),this._glName=null,this._context.instanceCounter.decrement(c._g.Texture,this))}},{key:"release",value:function(){this.dispose()}},{key:"resize",value:function(e,t){var r=this._descriptor;r.width===e&&r.height===t||(r.width=e,r.height=t,34067===this._descriptor.target?this.setDataCubeMap(null):this.setData(null))}},{key:"setDataCubeMap",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=34069;t<=34074;t++)this.setData(e,t)}},{key:"setData",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3553;if(this._context&&this._context.gl){var n=this._context.gl;this._glName||(this._glName=n.createTexture()),void 0===t&&(t=null),null===t&&(this._descriptor.width=this._descriptor.width||4,this._descriptor.height=this._descriptor.height||4);var i=this._context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES),a=this._descriptor;e._validateTexture(this._context,a),n.pixelStorei(n.UNPACK_ALIGNMENT,a.unpackAlignment),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,a.flipped?1:0),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.preMultiplyAlpha?1:0);var o=a.pixelFormat,c=a.internalFormat?a.internalFormat:this._deriveInternalFormat(o,a.dataType);if(t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement){var l=t.width,h=t.height;t instanceof HTMLVideoElement&&(l=t.videoWidth,h=t.videoHeight),a.width&&a.height,n.texImage2D(r,0,c,o,a.dataType,t),(0,s.zu)(n),a.hasMipmap&&this.generateMipmap(),void 0===a.width&&(a.width=l),void 0===a.height&&(a.height=h)}else{null!=a.width&&null!=a.height||console.error("Width and height must be specified!"),n.DEPTH24_STENCIL8&&c===n.DEPTH_STENCIL&&(c=n.DEPTH24_STENCIL8);var d=a.width,p=a.height;if(f(t)){var _=Math.round(Math.log(Math.max(d,p))/Math.LN2)+1;a.hasMipmap=a.hasMipmap&&_===t.levels.length;for(var m=0;;++m){var T=t.levels[Math.min(m,t.levels.length-1)];if(n.compressedTexImage2D(r,m,c,d,p,0,T),1===d&&1===p||!a.hasMipmap)break;d=Math.max(1,d>>1),p=Math.max(1,p>>1)}}else if((0,u.pC)(t))n.texImage2D(r,0,c,d,p,0,o,a.dataType,t),(0,s.zu)(n),a.hasMipmap&&this.generateMipmap();else for(var g=0;n.texImage2D(r,g,c,d,p,0,o,a.dataType,null),(0,s.zu)(n),(1!==d||1!==p)&&a.hasMipmap;++g)d=Math.max(1,d>>1),p=Math.max(1,p>>1)}e._applySamplingMode(n,this._descriptor),e._applyWrapMode(n,this._descriptor),e._applyAnisotropicFilteringParameters(this._context,this._descriptor),(0,s.zu)(n),this._context.bindTexture(i,e.TEXTURE_UNIT_FOR_UPDATES)}}},{key:"updateData",value:function(t,r,n,i,a,o){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:3553;o||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");var s=this._context.gl,c=this._descriptor,l=this._context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);(r<0||n<0||i>c.width||a>c.height||r+i>c.width||n+a>c.height)&&console.error("An attempt to update out of bounds of the texture!"),s.pixelStorei(s.UNPACK_ALIGNMENT,c.unpackAlignment),s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,c.flipped?1:0),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.preMultiplyAlpha?1:0),o instanceof ImageData||o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement?s.texSubImage2D(u,t,r,n,c.pixelFormat,c.dataType,o):s.texSubImage2D(u,t,r,n,i,a,c.pixelFormat,c.dataType,o),this._context.bindTexture(l,e.TEXTURE_UNIT_FOR_UPDATES)}},{key:"generateMipmap",value:function(){var t=this._descriptor;t.hasMipmap||(t.hasMipmap=!0,this._samplingModeDirty=!0,e._validateTexture(this._context,t)),9729===t.samplingMode?(this._samplingModeDirty=!0,t.samplingMode=9985):9728===t.samplingMode&&(this._samplingModeDirty=!0,t.samplingMode=9984);var r=this._context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);this._context.gl.generateMipmap(t.target),this._context.bindTexture(r,e.TEXTURE_UNIT_FOR_UPDATES)}},{key:"setSamplingMode",value:function(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}},{key:"setWrapMode",value:function(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,e._validateTexture(this._context,this._descriptor),this._wrapModeDirty=!0)}},{key:"applyChanges",value:function(){var t=this._context.gl,r=this._descriptor;this._samplingModeDirty&&(e._applySamplingMode(t,r),this._samplingModeDirty=!1),this._wrapModeDirty&&(e._applyWrapMode(t,r),this._wrapModeDirty=!1)}},{key:"_deriveInternalFormat",value:function(e,t){if("webgl"===this._context.webglVersion)return e;if(5126===t)switch(e){case 6408:return 34836;case 6407:return 34837;default:throw new Error("Unable to derive format")}return e}}],[{key:"_validateTexture",value:function(e,t){(t.width<0||t.height<0)&&console.error("Negative dimension parameters are not allowed!");var r=(0,o.wt)(t.width)&&(0,o.wt)(t.height);(0,l.Z)(e.gl)||r||("number"==typeof t.wrapMode?33071!==t.wrapMode&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"):33071===t.wrapMode.s&&33071===t.wrapMode.t||console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),t.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"))}},{key:"_applySamplingMode",value:function(e,t){var r=t.samplingMode,n=t.samplingMode;9985===r||9987===r?(r=9729,t.hasMipmap||(n=9729)):9984!==r&&9986!==r||(r=9728,t.hasMipmap||(n=9728)),e.texParameteri(t.target,e.TEXTURE_MAG_FILTER,r),e.texParameteri(t.target,e.TEXTURE_MIN_FILTER,n)}},{key:"_applyWrapMode",value:function(e,t){"number"==typeof t.wrapMode?(e.texParameteri(t.target,e.TEXTURE_WRAP_S,t.wrapMode),e.texParameteri(t.target,e.TEXTURE_WRAP_T,t.wrapMode)):(e.texParameteri(t.target,e.TEXTURE_WRAP_S,t.wrapMode.s),e.texParameteri(t.target,e.TEXTURE_WRAP_T,t.wrapMode.t))}},{key:"_applyAnisotropicFilteringParameters",value:function(e,t){var r,n=e.capabilities.textureFilterAnisotropic;n&&e.gl.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY,null!=(r=t.maxAnisotropy)?r:1)}}]),e}();function f(e){return(0,u.pC)(e)&&"type"in e&&"compressed"===e.type}h.TEXTURE_UNIT_FOR_UPDATES=0},30308:function(e,t,r){function n(e){return window.WebGL2RenderingContext&&e instanceof window.WebGL2RenderingContext}r.d(t,{Z:function(){return n}})},37825:function(e,t,r){r.d(t,{zu:function(){return c},hZ:function(){return u},CG:function(){return s}});var n=r(10064),i=r(93169),a=r(32718).Z.getLogger("esri/views/webgl");var o=!!(0,i.Z)("enable-feature:webgl-debug");function u(){return o}function s(){return o}function c(e){if(u()){var t=e.getError();if(t){var r=function(e,t){switch(t){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}(e,t),i=(new Error).stack;a.error(new n.Z("webgl-error","WebGL error occured",{message:r,stack:i}))}}}},8548:function(e,t,r){r.d(t,{Ld:function(){return i},Lu:function(){return a},_g:function(){return n}});var n,i=33984;!function(e){e[e.Texture=0]="Texture",e[e.Buffer=1]="Buffer",e[e.VAO=2]="VAO",e[e.VertexShader=3]="VertexShader",e[e.FragmentShader=4]="FragmentShader",e[e.Program=5]="Program",e[e.Framebuffer=6]="Framebuffer",e[e.Renderbuffer=7]="Renderbuffer",e[e.COUNT=8]="COUNT"}(n||(n={}));var a=33306}}]);
//# sourceMappingURL=6640.f7b2cef2.chunk.js.map